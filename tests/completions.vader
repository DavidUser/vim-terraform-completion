Execute (Make sure tab is off):
  set expandtab

Given terraform (Resource Completion Test):

Do (Autocompletion for data first(aws) test):
  idata "aws_\<C-X>\<C-O>

Expect (get aws_acm_certificate):
  data "aws_acm_certificate

Given terraform (Interpolation for Data Completion Test):
  data "aws_db_instance" "sd" {
  }

  resource "docker_container" "sd2" {
  }

Do (Autocompletion for interpolation):
  3joname = "${data.\<C-X>\<C-O>.\<C-X>\<C-O>.\<C-X>\<C-O>}"


Expect (get address):
  data "aws_db_instance" "sd" {
  }

  resource "docker_container" "sd2" {
          name = "${data.aws_db_instance.sd.address}"
  }

Given terraform (Module Online Completion Test):
  module "tf-aws-vpc" {
    source = "github.com/terraform-community-modules/tf_aws_vpc"
  }

Do (Autocompletion for online module argument completion):
  jo\<C-X>\<C-O>

Expect (get name):
  module "tf-aws-vpc" {
    source = "github.com/terraform-community-modules/tf_aws_vpc"
    name
  }

Given terraform (Module Offline Completion Test):
  module "test" {
    source = "./tests/modules"
  }

Do (Autocompletion for offline module argument completion):
  jo\<C-X>\<C-O>

Expect (get var_name):
  module "test" {
    source = "./tests/modules"
    var_name
  }

Given terraform (Module Online Attribute Completion Test):
  module "tf-aws-vpc" {
    source = "github.com/terraform-community-modules/tf_aws_vpc"
  }

  resource "aws_db_instance" "test" {
  }

Do (Autocompletion for online module attributes completion):
  3joname = "${module.\<C-X>\<C-O>.\<C-X>\<C-O>}"

Expect (get private subnets):
  module "vpc" {
    source = "github.com/terraform-community-modules/tf_aws_vpc"
  }

  resource "aws_db_instance" "test" {
          name = "${module.vpc.private_subnets}"
  }

Given terraform (Module Offline Attribute Completion Test):
  module "test" {
    source = "./tests/modules"
  }

  resource "aws_db_instance" "test" {
  }

Do (Autocompletion for offline module attributes completion):
  3joname = "${module.\<C-X>\<C-O>.\<C-X>\<C-O>}"

Expect (get output test):
  module "test" {
    source = "./tests/modules"
  }

  resource "aws_db_instance" "test" {
          name = "${module.test.output_test}"
  }

Given terraform (Resource Completion Test):

Do (Autocompletion for resource first(aws) test):
  iresource "aws_\<C-X>\<C-O>

Expect (get aws_api_gateway_account):
  resource "aws_api_gateway_account

Do (Autocompletion for resource second(docker) test):
  iresource "docker_\<C-X>\<C-O>

Expect (get docker_container):
  resource "docker_container

Given terraform (Argument Completion Test):
  resource "docker_container" "sd" {
  }

Do (Autocompletion for Argument Test):
  o\<C-X>\<C-O>

Expect (get aws_vpn_gateway_attachment):
  resource "docker_container" "sd" {
          name
  }

Given terraform (Interpolation Completion Test):
  resource "docker_container" "sd" {
  }

  resource "docker_container" "sd2" {
  }

Do (Autocompletion for interpolation):
  3joname = "${\<C-X>\<C-O>.\<C-X>\<C-O>.\<C-X>\<C-O>}"


Expect (get docker_container):
  resource "docker_container" "sd" {
  }

  resource "docker_container" "sd2" {
          name = "${docker_container.sd2.ip_address}"
  }
